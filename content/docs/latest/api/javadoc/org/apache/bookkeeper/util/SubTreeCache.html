<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SubTreeCache (BookKeeper Java API (version 4.15.0-SNAPSHOT))</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SubTreeCache (BookKeeper Java API (version 4.15.0-SNAPSHOT))";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.bookkeeper.util</a></div>
<h2 title="Class SubTreeCache" class="title">Class SubTreeCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.bookkeeper.util.SubTreeCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">SubTreeCache</span>
extends java.lang.Object</pre>
<div class="block">Caching layer for traversing and monitoring changes on a znode subtree.

 <p>ZooKeeper does not provide a way to perform a recursive watch on a subtree.
 In order to detect changes to a subtree, we need to maintain a
 cache of nodes which have been listed and have not changed since.  This would
 mirror the set of nodes with live watches in ZooKeeper (since we can't
 cancel them at the moment).

 <p>In order to avoid having to pre-read the whole subtree up front, we'll weaken
 the guarantee to only require firing the watcher for updates on nodes read since
 the watcher was registered which happened after the read.  We'll also permit
 spurious events elsewhere in the tree to avoid having to distinguish between
 nodes which were read before and after a watch was established.

 <p>Finally, we'll allow (require, even) the user to cancel a registered watcher
 once no longer interested.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="SubTreeCache.TreeProvider.html" title="interface in org.apache.bookkeeper.util">SubTreeCache.TreeProvider</a></span></code></th>
<td class="colLast">
<div class="block">A tree provider.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="SubTreeCache.WatchGuard.html" title="class in org.apache.bookkeeper.util">SubTreeCache.WatchGuard</a></span></code></th>
<td class="colLast">
<div class="block">A watch guard.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.String,&#8203;org.apache.bookkeeper.util.SubTreeCache.SubTreeNode&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cachedNodes">cachedNodes</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.Set&lt;org.apache.zookeeper.Watcher&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pendingWatchers">pendingWatchers</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="SubTreeCache.TreeProvider.html" title="interface in org.apache.bookkeeper.util">SubTreeCache.TreeProvider</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#provider">provider</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.bookkeeper.util.SubTreeCache.TreeProvider)">SubTreeCache</a></span>&#8203;(<a href="SubTreeCache.TreeProvider.html" title="interface in org.apache.bookkeeper.util">SubTreeCache.TreeProvider</a>&nbsp;provider)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cancelWatcher(org.apache.zookeeper.Watcher)">cancelWatcher</a></span>&#8203;(org.apache.zookeeper.Watcher&nbsp;watcher)</code></th>
<td class="colLast">
<div class="block">Cancel a watcher (noop if not registered or already fired).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChildren(java.lang.String)">getChildren</a></span>&#8203;(java.lang.String&nbsp;path)</code></th>
<td class="colLast">
<div class="block">Returns children of node.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#registerWatcher(org.apache.zookeeper.Watcher)">registerWatcher</a></span>&#8203;(org.apache.zookeeper.Watcher&nbsp;watcher)</code></th>
<td class="colLast">
<div class="block">Register a watcher.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="SubTreeCache.WatchGuard.html" title="class in org.apache.bookkeeper.util">SubTreeCache.WatchGuard</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#registerWatcherWithGuard(org.apache.zookeeper.Watcher)">registerWatcherWithGuard</a></span>&#8203;(org.apache.zookeeper.Watcher&nbsp;watcher)</code></th>
<td class="colLast">
<div class="block">Register watcher and get interest guard object which can be used with try-with-resources.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="provider">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>provider</h4>
<pre><a href="SubTreeCache.TreeProvider.html" title="interface in org.apache.bookkeeper.util">SubTreeCache.TreeProvider</a> provider</pre>
</li>
</ul>
<a id="pendingWatchers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingWatchers</h4>
<pre>java.util.Set&lt;org.apache.zookeeper.Watcher&gt; pendingWatchers</pre>
</li>
</ul>
<a id="cachedNodes">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cachedNodes</h4>
<pre>java.util.Map&lt;java.lang.String,&#8203;org.apache.bookkeeper.util.SubTreeCache.SubTreeNode&gt; cachedNodes</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.bookkeeper.util.SubTreeCache.TreeProvider)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SubTreeCache</h4>
<pre>public&nbsp;SubTreeCache&#8203;(<a href="SubTreeCache.TreeProvider.html" title="interface in org.apache.bookkeeper.util">SubTreeCache.TreeProvider</a>&nbsp;provider)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getChildren(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildren</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getChildren&#8203;(java.lang.String&nbsp;path)
                                             throws org.apache.zookeeper.KeeperException,
                                                    java.lang.InterruptedException</pre>
<div class="block">Returns children of node.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - Path of which to get children</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Children of path</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a id="registerWatcher(org.apache.zookeeper.Watcher)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerWatcher</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;registerWatcher&#8203;(org.apache.zookeeper.Watcher&nbsp;watcher)</pre>
<div class="block">Register a watcher.

 <p>See class header for semantics.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>watcher</code> - watcher to register</dd>
</dl>
</li>
</ul>
<a id="cancelWatcher(org.apache.zookeeper.Watcher)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelWatcher</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;cancelWatcher&#8203;(org.apache.zookeeper.Watcher&nbsp;watcher)</pre>
<div class="block">Cancel a watcher (noop if not registered or already fired).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>watcher</code> - Watcher object to cancel</dd>
</dl>
</li>
</ul>
<a id="registerWatcherWithGuard(org.apache.zookeeper.Watcher)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>registerWatcherWithGuard</h4>
<pre class="methodSignature">public&nbsp;<a href="SubTreeCache.WatchGuard.html" title="class in org.apache.bookkeeper.util">SubTreeCache.WatchGuard</a>&nbsp;registerWatcherWithGuard&#8203;(org.apache.zookeeper.Watcher&nbsp;watcher)</pre>
<div class="block">Register watcher and get interest guard object which can be used with try-with-resources.

 <p>It's important not to leak watchers into this structure.  The returned WatchGuard
 can be used to ensure that the watch is unregistered upon exiting a scope.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>watcher</code> - Watcher to register</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
